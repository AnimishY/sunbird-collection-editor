<sui-modal *ngIf="showCollaborationPopup" [mustScroll]="true" [isClosable]="true" [transitionDuration]="0"
    [size]="'fullscreen'" class="sb-modal sb-modal-fullscreen" appBodyScroll 
    (dismissed)="dismissCollaborationPopup()" #modal>
    <div class="sb-modal-header">
        Collaborators
    </div>
    <div class="sb-modal-content">
        <div class="sb-search-box small no-btn ml-auto mr-10">
        <div class="input-div relative">
            <i class="search icon" aria-hidden="true"></i>
            <input class="sb-search-input" type="text" placeholder="Search..." />
            <i class="close icon" aria-hidden="true"></i>
            <div class="sb-loader"></div>
        </div>
        <button class="sb-btn sb-btn-normal">Search</button>
    </div>
    <sui-tabset>
        <div class="ui pointing secondary menu">
            <a class="item" (activate)="getAllusers()" suiTabHeader="1">Add Collaborators</a>
            <a class="item" (activate)="getCollaborators()" suiTabHeader="2">Manage Collaborators</a>
        </div>
        <div class="ui segment p-0 mt-1" suiTabContent="1">
            <div *ngIf="!users?.length">
                No users found
            </div>
            <select class="search dropdown py-5 sb-bg-color-white ml-auto d-flex mb-10" *ngIf="users?.length">
                <option>Sort By</option>
                <option value="1">Modified on</option>
                <option value="2">Created on</option>
            </select>
            <div class="masonry-grid" *ngIf="users?.length">
                <div *ngFor="let user of users" class="sb-card">
                    <div class="sb-card-body">
                        <div class="sb-card-metas">
                            <div class="sb-card-image mr-16">
                            C
                            </div>
                            <div class="sb-card-meta course">
                            <div class="sb-card-meta-item mb-16 font-weight-bold">
                                {{user.firstName}} {{user.lastName}}
                            </div>
                            <div class="sb-color-gray-400 fs-0-92">
                                CBSE
                            </div>
                            </div>
                            <div class="d-flex flex-align-self-end sb-custom-toggle">
                                <a class="sb-color-primary d-flex fs-0-785 font-weight-bold flex-ai-end" 
                                *ngIf="!user.isSelected" (click)="toggleSelectionUser(user.identifier)">
                                    <i class="icon plus" aria-hidden="true"></i>ADD
                                </a>
                                <div class="ui right floated compact segment" *ngIf="user.isSelected" (click)="toggleSelectionUser(user.identifier)">
                                    <div class="ui mini fitted toggle checkbox">
                                        <input type="checkbox" checked><label></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </div>
        <div class="ui segment  p-0 mt-1" suiTabContent="2">
            <div *ngIf="!collaborators?.length">
                No collaborators found for this content
            </div>
            <div class="masonry-grid" *ngIf="collaborators?.length">
                <div *ngFor="let collaborator of collaborators" class="sb-card">
                    <div class="sb-card-body">
                        <div class="sb-card-metas">
                            <div class="sb-card-image mr-16">
                            C
                            </div>
                            <div class="sb-card-meta course">
                            <div class="sb-card-meta-item mb-16 font-weight-bold">
                                {{collaborator.firstName}} {{collaborator.lastName}}
                            </div>
                            <div class="sb-color-gray-400 fs-0-92">
                                CBSE
                            </div>
                            </div>
                            <div class="d-flex flex-align-self-end sb-custom-toggle">
                                <a class="sb-color-error d-flex fs-0-785 font-weight-bold flex-ai-end" 
                                *ngIf="!collaborator.isSelected" (click)="toggleSelectionCollaborator(collaborator.identifier)">REMOVE</a>
                                <div class="ui right floated compact segment" *ngIf="collaborator.isSelected" (click)="toggleSelectionCollaborator(collaborator.identifier)">
                                    <div class="ui mini fitted toggle checkbox">
                                        <input type="checkbox" checked><label></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </div>
    </sui-tabset>
    </div>
    <div class="sb-modal-actions">
    <button class="sb-btn sb-btn-normal sb-btn-primary"
    [ngClass]="{'sb-btn-disabled': (selectedUsers.length === 0 && selectedcollaborators.length === 0)}"
     (click)="addRemoveCollaboratorToCourse(modal)">Done</button>
    </div>
</sui-modal>
